/* v 2.40.1
author http://codecanyon.net/user/creativeinteractivemedia/portfolio?ref=creativeinteractivemedia
*/

var FLIPBOOK=FLIPBOOK||{};!function(e,t,o,n){e.fn.flipBook=function(e){return new FLIPBOOK.Main(e,this)},e.fn.flipBook.options={name:"",pages:[],tableOfContent:[],tableOfContentCloseOnClick:!1,htmlContents:[],webglMinAndroidVersion:4.4,deeplinking:{enabled:!1,prefix:""},rootFolder:"",assets:{preloader:"images/preloader.jpg",overlay:"images/overlay.png",transparent:"images/transparent.png",flipMp3:"mp3/turnPage.mp3"},pdfUrl:null,pdfBrowserViewerIfMobile:!1,pdfBrowserViewerFullscreen:!0,pdfBrowserViewerFullscreenTarget:"_blank",pdfPageScale:2,htmlLayer:!0,rightToLeft:!1,startPage:0,sound:!0,backgroundColor:"rgb(81, 85, 88)",backgroundPattern:"",backgroundTransparent:!1,pageWidth:null,pageHeight:null,thumbnailWidth:100,loadAllPages:!1,currentPage:{enabled:!0,title:"Current page"},btnNext:{enabled:!0,title:"Next page",icon:"fa-angle-right"},btnLast:{enabled:!1,title:"Last page",icon:"fa-angle-double-right"},btnPrev:{enabled:!0,title:"Previous page",icon:"fa-angle-left"},btnFirst:{enabled:!1,title:"First page",icon:"fa-angle-double-left"},btnZoomIn:{enabled:!0,title:"Zoom in",icon:"fa-plus"},btnZoomOut:{enabled:!0,title:"Zoom out",icon:"fa-minus"},btnToc:{enabled:!0,title:"Table of content",icon:"fa-list-ol"},btnThumbs:{enabled:!0,title:"Pages",icon:"fa-th-large"},btnShare:{enabled:!0,title:"Share",icon:"fa-link"},btnDownloadPages:{enabled:!0,title:"Download pages",icon:"fa-download",url:"images/pages.zip"},btnDownloadPdf:{forceDownload:!1,enabled:!0,title:"Download PDF",icon:"fa-file",url:"images/pages.pdf",openInNewWindow:!0},btnSound:{enabled:!0,title:"Volume",icon:"fa-volume-up"},btnExpand:{enabled:!0,title:"Toggle fullscreen",icon:"fa-expand",iconAlt:"fa-compress"},btnSlideshow:{enabled:!1,title:"Toggle slideshow",icon:"fa-play",iconAlt:"fa-pause"},btnPrint:{enabled:!0,title:"Print",icon:"fa-print"},btnAutoplay:{enabled:!0,title:"Autoplay",icon:"fa-play"},autoplayOnStart:!1,autoplayInterval:3e3,btnTocIfMobile:!0,btnThumbsIfMobile:!0,btnShareIfMobile:!1,btnDownloadPagesIfMobile:!0,btnDownloadPdfIfMobile:!0,btnSoundIfMobile:!1,btnExpandIfMobile:!0,btnPrintIfMobile:!1,sideNavigationButtons:!0,hideMenu:!1,google_plus:{enabled:!0,url:null},twitter:{enabled:!0,url:null,description:null},facebook:{enabled:!0,load_sdk:!0,url:null,app_id:null,title:null,caption:null,description:null,image:null},pinterest:{enabled:!0,url:null,image:null,description:null},email:{enabled:!0,title:null,description:null},pdf:{annotationLayer:!1},pageTextureSize:2048,minPageTextureSize:512,viewMode:"webgl",singlePageMode:!1,singlePageModeIfMobile:!1,useMobileView:!1,zoomLevels:[.85,2,5],zoomSize:3e3,zoomStep:2,zoomDisabled:!1,responsiveView:!0,responsiveViewTreshold:768,minPixelRatio:1,time1:300,transition1:"easeInSine",time2:400,transition2:"easeOutSine",skin:"light",contentOnStart:!1,thumbnailsOnStart:!1,lightBox:!1,lightBoxOpened:!1,lightBoxFullscreen:!1,lightboxCloseOnClick:!1,lightboxBackground:null,lightboxStartPage:null,lightboxMarginV:"0",lightboxMarginH:"0",pan:0,panMax:10,panMax2:2,panMin:-10,panMin2:-2,tilt:0,tiltMax:0,tiltMax2:0,tiltMin:-20,tiltMin2:-5,rotateCameraOnMouseMove:!1,rotateCameraOnMouseDrag:!0,lights:!0,spotlightColor:16777215,spotlightIntensity:.14,ambientLightColor:3355443,pageRoughness:1,pageMetalness:0,pageHardness:2,coverHardness:2,pageSegmentsW:5,pageSegmentsH:1,pageMiddleShadowSize:2,pageMiddleShadowColorL:"#999999",pageMiddleShadowColorR:"#777777",pageFlipDuration:1,antialias:!1,allowPageScroll:"vertical",logoImg:"",logoUrl:"",logoCSS:"position:absolute;",logoHideOnMobile:!1,menuMargin:0,menuPadding:0,menuAlignHorizontal:"center",menuShadow:"0 0 6px rgba(0,0,0,0.16), 0 0 6px rgba(0,0,0,0.23)",menuBackground:"",menuOverBook:!1,btnSize:12,btnRadius:4,btnMargin:4,btnPaddingV:10,btnPaddingH:10,btnShadow:"",btnTextShadow:"",btnBorder:"",btnColor:"",btnBackground:"none",sideBtnSize:40,sideBtnRadius:4,sideBtnMargin:5,sideBtnPaddingV:0,sideBtnPaddingH:0,sideBtnShadow:"",sideBtnTextShadow:"",sideBtnBorder:"",sideBtnColor:"#fff",sideBtnBackground:"rgba(0,0,0,.4)",currentPagePositionV:"top",currentPagePositionH:"left",currentPageMarginV:5,currentPageMarginH:5,closeBtnSize:20,closeBtnRadius:0,closeBtnMargin:0,closeBtnPadding:10,closeBtnTextShadow:"",closeBtnColor:"#fff",closeBtnBackground:"rgba(0,0,0,.3)",closeBtnBorder:"",mobile:{}},FLIPBOOK.Main=function(n,s){function a(){l.options.pdfBrowserViewerFullscreen?t.open(l.options.pdfUrl,l.options.pdfBrowserViewerFullscreenTarget):e('<object type="application/pdf"/>').width("100%").height("100%").attr("data",l.options.pdfUrl).appendTo(l.$elem)}function r(){l.setLoadingProgress(.1),l.loadPages([0,1],function(){var e=l.pages[0].img,t=l.pages[1].img,o=e.width/e.height,n=t.width/t.height;l.options.pageWidth=e.width,l.options.pageHeight=e.height,l.options.pageMode=n/o>1.5?"doubleWithCover":"singlePage",l.setLoadingProgress(1),l.start()})}var l=this;l.elem=s,l.$elem=e(s),l.options={};var p=o.createElement("div").style,c=function(){for(var e="t,webkitT,MozT,msT,OT".split(","),t=0,o=e.length;t<o;t++)if(e[t]+"ransform"in p)return e[t].substr(0,e[t].length-1);return!1}(),d=/android/gi.test(navigator.appVersion),u=/iphone|ipad/gi.test(navigator.appVersion),h=function(e){return""===c?e:(e=e.charAt(0).toUpperCase()+e.substr(1),c+e)}("perspective")in p;if(this.msie=t.navigator.userAgent.indexOf("MSIE "),l.isAndroid=d,l.has3d=h,l.hasWebGl=function(e){if(t.WebGLRenderingContext){for(var n=o.createElement("canvas"),i=["webgl","experimental-webgl","moz-webgl","webkit-3d"],s=!1,a=0;a<4;a++)try{if((s=n.getContext(i[a]))&&"function"==typeof s.getParameter)return!e||{name:i[a],gl:s}}catch(e){}return!0}return!1}(),l.thumbsShowing=!1,l.tocShowing=!1,l.menuShowing=!0,l.fullscreenActive=!1,l.options=e.extend({},e.fn.flipBook.options,n),l.options.isMobile=e.browser.mobile||u||d,l.options.isMobile)for(var g in l.options.mobile)l.options[g]=l.options.mobile[g];if(l.options.main=l,l.options.pageShininess=l.options.pageShininess/2,l.s=0,e("head").append("<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />"),l.options.singlePageMode&&(l.options.viewMode="3d",l.options.rightToLeft=!1),l.options.isMobile&&l.options.useMobileView&&(l.options.viewMode="swipe"),l.options.isMobile&&(l.options.singlePageMode=!!l.options.singlePageModeIfMobile||l.options.singlePageMode,l.options.singlePageMode&&(l.viewMode="3d",l.options.viewMode="3d")),"webgl"==l.options.viewMode&&(!l.hasWebGl||parseFloat(function(e){var t=(e=(e||navigator.userAgent).toLowerCase()).match(/android\s([0-9\.]*)/);return!!t&&t[1]}())<l.options.webglMinAndroidVersion&&l.isAndroid)&&(l.options.viewMode="3d"),"3d"!=l.options.viewMode||l.has3d||(l.options.viewMode="2d"),l.webgl="webgl"==l.options.viewMode,l.options.isMobile&&n.pdfBrowserViewerIfMobile&&l.options.pdfUrl)l.options.lightBox&&!l.options.lightBoxOpened?l.$elem.on("touched click",function(){a()}).css("cursor","pointer"):a();else{l.options.pdfMode=Boolean(l.options.pdfUrl&&""!=l.options.pdfUrl),l.pages=l.options.pages;var f=l.options.zoomLevels;for("string"==typeof f&&(f=f.split(",")),i=0;i<f.length;i++)f[i]=Number(f[i]);if(l.options.backgroundTransparent&&(l.options.backgroundPattern=l.options.assets.transparent),l.options.zoomLevels=f,l.options.zoomMin=f[0],l.options.zoom=l.options.zoomMin,l.options.zoomMax=f[f.length-1],l.onZoom(l.options.zoom),l.wrapper=e(o.createElement("div")).addClass("flipbook-main-wrapper"),""!=l.options.backgroundColor&&l.wrapper.css("background",l.options.backgroundColor),""!=l.options.backgroundPattern&&l.wrapper.css("background","url("+l.options.backgroundPattern+") repeat"),l.bookLayer=e(o.createElement("div")).addClass("flipbook-bookLayer").appendTo(l.wrapper),l.options.hideMenu&&l.bookLayer.css("bottom","0"),l.book=e(o.createElement("div")).addClass("book").appendTo(l.bookLayer),this.createLoadingBar(),l.options.deeplinking.enabled&&(e(t).bind("hashchange",function(e){if(l.Book&&l.Book.enabled){var t=l.getPageFromHash();t=l.options.rightToLeft?l.options.pages.length-t+1:t,l.options.singlePageMode&&t--,t>=0&&l.Book.goToPage(t,!0)}}),this.options.startPage<=1)){var b=this.getPageFromHash();b>0&&(this.options.lightBoxOpened=!0),this.options.startPage=b}this.options.startPage=this.options.singlePageMode?this.options.startPage-1:this.options.startPage,l.options.pdfMode?l.options.lightBox?(l.$elem.css("cursor","pointer").bind("tap click",function(e){l.initPdf(e),l.options.lightBoxFullscreen&&setTimeout(function(){l.toggleExpand(e)},1e3)}),(this.options.startPage>1||this.options.lightBoxOpened)&&l.initPdf()):(l.initPdf(),l.wrapper.appendTo(l.$elem)):l.options.lightBox?(l.$elem.css("cursor","pointer").bind("tap click",function(e){l.lightbox?l.lightboxStart():(r(),l.options.lightBoxFullscreen&&l.toggleExpand())}),(this.options.startPage>1||this.options.lightBoxOpened)&&r()):(l.wrapper.appendTo(l.$elem),r()),this.flipsound=o.createElement("audio"),this.flipsound.setAttribute("src",this.options.assets.flipMp3),this.flipsound.setAttribute("type","audio/mpeg")}},FLIPBOOK.Main.prototype={start:function(){this.started||(1==this.options.numPages&&(this.options.viewMode="3d",this.webgl=!1),this.started=!0,this.options.lightBox&&(this.lightbox=new FLIPBOOK.Lightbox(this,this.wrapper,this.options),this.wrapper.css("background","none"),this.bookLayer.css("background","none"),this.book.css("background","none"),this.lightbox.openLightbox(),this.lightboxStart()),this.createBook())},lightboxStart:function(){var e=this;this.started||this.start(),void 0!==this.Book?(this.Book.enable(),this.options.contentOnStart&&this.toggleToc(!0),this.options.thumbnailsOnStart&&this.toggleThumbs(!0),e.updateCurrentPage(),e.initColors(),e.resize()):setTimeout(function(){e.lightboxStart()},100)},setHash:function(o){o<1&&(o=1),e("body").trigger({type:"updatePage",page:o,name:this.options.name}),this.options.deeplinking.enabled&&this.Book.enabled&&(t.location.hash="#"+this.options.deeplinking.prefix+String(o))},clearHash:function(){this.options.deeplinking.enabled&&(t.location.hash="")},getPageFromHash:function(){var e=parseInt(t.location.hash.replace(/#/g,"").replace(this.options.deeplinking.prefix,""));return isNaN(e)&&(e=0),e},initColors:function(){e(".skin-color-bg").removeClass("flipbook-bg-light").removeClass("flipbook-bg-dark").addClass("flipbook-bg-"+this.options.skin),e(".skin-color").removeClass("flipbook-color-light").removeClass("flipbook-color-dark").addClass("flipbook-color-"+this.options.skin)},lightboxEnd:function(){this.Book.disable(),screenfull.exit(),t.location.hash&&this.clearHash(),this.setLoadingProgress(1)},turnPageComplete:function(){this.animating=!1,this.updateCurrentPage(),(this.Book.rightIndex||0)>this.pages.length-1&&this.autoplay&&this.toggleAutoplay(!1),e(this).trigger("onTurnPageComplete")},updateCurrentPage:function(e){if(void 0!==this.currentPage){var t=this.options.rightToLeft,o=this.options.numPages,n=this.Book.rightIndex||0;if(this.options.singlePageMode||this.Book.singlePage)return this.options.rightToLeft&&(n=this.options.pages.length-n),this.currentPage.attr("value",String(n+1)),this.currentPage.text(String(n+1)+" / "+String(o)),this.enablePrev(n>0),this.enableNext(n<this.options.pages.length-1),this.enableAutoplay(n<this.options.pages.length-1),this.currentPageNumber=n,void this.setHash(this.currentPageNumber+1);void 0!==e&&(n=e);var i,s=t?this.options.pages.length-n:n;i=s>o||s==o&&o%2==0?o:s<1?1:String(s)+"-"+String(s+1),i+=" / "+o,this.currentPage.attr("value",String(s)),this.currentPage.text(String(i)),this.s&&this.options.pdfPageScale>0&&this.Book.goToPage(0),o%2!=0&&o--,t?(this.enablePrev(s<o),this.enableNext(s>1),this.enableAutoplay(s>1)):(this.enablePrev(s>1),this.enableNext(s<o),this.enableAutoplay(s<o)),this.setHash(s)}},initPdf:function(t){var o=this;o.started||(this.setLoadingProgress(.1),FLIPBOOK.scriptsLoaded[FLIPBOOK.pdfjsSrc]||"undefined"!=typeof PDFJS?FLIPBOOK.scriptsLoaded[FLIPBOOK.pdfServiceSrc]||void 0!==FLIPBOOK.PdfService?(PDFJS.externalLinkTarget=PDFJS.LinkTarget.BLANK,PDFJS.workerSrc=this.options.pdfjsworkerSrc||FLIPBOOK.pdfjsworkerSrc,PDFJS.getDocument(o.options.pdfUrl).then(function(t){o.pdfDocument=t,o.options.numPages=t.pdfInfo.numPages,o.pages=[];for(var n=0;n<o.options.numPages;n++){var i={canvas:{}};o.options.pages&&o.options.pages[n]?e.extend(i,o.options.pages[n]):i.title=n+1,o.pages[n]=i}o.options.pages=o.pages,o.pdfService=new FLIPBOOK.PdfService(t,o);o.pdfService.init(function(){o.options.pageMode=this.double?"doubleWithCover":"singlePage",o.viewportOriginal=this.viewports[0];o.book.height();if(o.options.pageWidth=1e3*o.viewportOriginal.width/o.viewportOriginal.height,o.options.pageHeight=1e3,o.options.loadAllPages)for(var e=0;e<o.pdfDocument.pdfInfo.numPages;e++)o.loadPageFromPdf(e);o.start()})})):o.loadScript(FLIPBOOK.pdfServiceSrc,function(){o.initPdf(t)}):o.loadScript(FLIPBOOK.pdfjsSrc,function(){o.initPdf(t)}))},loadPages:function(t,o){if(this.options.pdfMode)this.loadPagesFromPdf(t,this.options.pageTextureSize,o);else{for(;t[0]<0;)t.shift();for(;!this.pages[t[t.length-1]];)t.pop();var n=t[0],i=this;t.shift();i=this;this.pages[n].img||(this.pages[n].img=new Image,console.log("loading page "+n),this.pages[n].img.setAttribute("id",n)),this.pages[n].img.onload=function(){e(i).trigger("pageLoaded",[parseInt(e(this).attr("id")),1]),0==t.length?o.call(i):i.loadPages(t,o)},this.pages[n].img.src=this.pages[n].src}},loadPagesFromPdf:function(e,t,o){var n=e[0],i=this;e.shift(),e.length>0?this.loadPageFromPdf(n,t,function(){i.loadPagesFromPdf(e,t,o)}):this.loadPageFromPdf(n,t,o)},loadPageFromPdf:function(e,t,o){var n=this,i=n.pdfDocument,s="doubleWithCover"==n.options.pageMode?Math.round(e/2):e;t=t||this.options.pageTextureSize,s>=i.pdfInfo.numPages||(n.options.pages[e]?n.pdfService.renderPageFromPdf(s,t,o):o.call(n))},loadThumbsFromPdf:function(){for(var e=this,t=e.pdfDocument.pdfInfo.numPages,o=0;o<t;o++)e.loadThumbFromPdf(o)},loadThumbFromPdf:function(e){var t=this,n=t.pdfDocument,i=(n.pdfInfo.numPages,100/t.viewportOriginal.width),s=o.createElement("canvas");t.pages[e].thumbCanvas=s,n.getPage(e+1).then(function(e){var o=e.getViewport(i),n=t.pages[e.pageIndex].thumbCanvas,s=n.getContext("2d");n.height=o.height,n.width=o.width;var a={canvasContext:s,viewport:o};e.render(a),t.thumbScroll.refresh()})},scrollPageIntoView:function(e){this.Book.goToPage(e)},loadScript:function(e,t){var i=this,s=o.createElement("script"),a=o.getElementsByTagName("script")[0];s.async=1,a.parentNode.insertBefore(s,a),s.onload=s.onreadystatechange=function(o,a){(a||!s.readyState||/loaded|complete/.test(s.readyState))&&(s.onload=s.onreadystatechange=null,s=n,a||t&&t.call(i),FLIPBOOK.scriptsLoaded[e]=!0)},s.src=e},createBook:function(){var t=this;if(FLIPBOOK.scriptsLoaded[FLIPBOOK.iscrollSrc]||"undefined"!=typeof THREE){if("webgl"==t.options.viewMode){if(!FLIPBOOK.scriptsLoaded[FLIPBOOK.threejsSrc]&&"undefined"==typeof THREE)return void t.loadScript(FLIPBOOK.threejsSrc,t.createBook);if(!FLIPBOOK.scriptsLoaded[FLIPBOOK.flipbookWebGlSrc]&&void 0===FLIPBOOK.BookWebGL)return void t.loadScript(FLIPBOOK.flipbookWebGlSrc,t.createBook)}else if("swipe"==t.options.viewMode){if(!FLIPBOOK.scriptsLoaded[FLIPBOOK.flipbookCarouselSrc]&&void 0===FLIPBOOK.BookCarousel)return void t.loadScript(FLIPBOOK.flipbookCarouselSrc,t.createBook)}else if(!FLIPBOOK.scriptsLoaded[FLIPBOOK.flipbookBook3Src]&&void 0===FLIPBOOK.Book3)return void t.loadScript(FLIPBOOK.flipbookBook3Src,t.createBook);if(this.initEasing(),"doubleWithCover"==t.options.pageMode&&t.options.pages.length>2){for(var o=[t.options.pages[0]],n=1;n<=t.options.pages.length-2;n++){var i=t.options.pages[n],s={src:i.src,thumb:i.thumb,title:i.title,htmlContent:i.htmlContent,side:"left"},a={src:i.src,thumb:i.thumb,title:i.title,htmlContent:i.htmlContent,side:"right"};t.options.rightToLeft?(o.push(a),o.push(s)):(o.push(s),o.push(a))}o.push(t.options.pages[t.options.pages.length-1]),t.options.pages=o}if(this.options.numPages=this.options.pages.length,this.options.numPages%2==0||this.options.singlePageMode||"swipe"==this.options.viewMode||(this.oddPages=!0,this.options.oddPages=!0,this.options.pages.push({src:this.options.assets.preloader,thumb:""})),t.options.rightToLeft){t.pagesReversed=[];for(n=t.options.pages.length-1;n>=0;n--)t.pagesReversed.push(t.options.pages[n]);t.options.pages=t.pagesReversed}if(t.options.pages.length>0)for(n=0;n<t.options.pages.length;n++)void 0!==t.options.pages[n].htmlContent&&(t.options.hasHtmlContent=!0);if("webgl"==t.options.viewMode){var r=t.options;r.pagesArr=t.options.pages,r.scroll=t.scroll,r.parent=t,t.Book=new FLIPBOOK.BookWebGL(t.book[0],r),t.webglMode=!0,t.initSwipe()}else"swipe"==t.options.viewMode?(t.Book=new FLIPBOOK.BookCarousel(t.book[0],t.options),t.initSwipe()):("2d"!=t.options.viewMode&&(t.options.viewMode="3d"),t.scroll=new FLIPBOOK.IScroll(t.bookLayer[0],{zoom:!0,zoomMin:t.options.zoomMin,zoomMax:t.options.zoomMax,scrollX:!0,scrollY:!0,scrollbars:!0,keepInCenterV:!0,keepInCenterH:!0,preventDefault:!1}),t.Book=new FLIPBOOK.Book3(t.book[0],t.options),t.scroll.on("zoomEnd",function(){t.onZoom(t.scroll.scale/t.ratio)}),t.initSwipe(),t.webglMode=!1);e(t.Book).bind("flipEnd",function(){var e=this,o=e.rightIndex,n="";if(1==e.mode)n=String(o+1);else{var i=String(o),s=o+1;n=0==i||i==s?String(s):s>e.pagesArr.length?String(i):String(i)+","+String(s)}n+="/",n+=String(e.pagesArr.length),t.currentPage.val(String(n))}),this.createToc(this.options.tableOfContent),this.thumbsCreated=!1,this.createMenu(),this.options.menuOverBook||this.bookLayer.css("bottom",this.menuWrapper.height()+"px"),this.createCurrentPage(),this.options.currentPage.enabled||this.currentPageHolder.hide(),this.createLogo(),this.onBookCreated()}else t.loadScript(FLIPBOOK.iscrollSrc,t.createBook)},onBookCreated:function(){var n=this.options,i=this;e(t).resize(function(){i.resize()}),i.resize(),this.options.menuOverBook||this.bookLayer.css("bottom",this.menuWrapper.height()+"px"),n.rightToLeft?i.Book.goToPage(Number(n.pages.length-Number(n.startPage)+1),!0):i.Book.goToPage(Number(n.startPage),!0),this.updateCurrentPage(),o.addEventListener("keydown",function(e){switch((e=e||t.event).keyCode){case 37:i.Book.prevPage();break;case 38:i.zoomIn();break;case 39:i.Book.nextPage();break;case 40:i.zoomOut()}}),n.zoomDisabled||(e(this.wrapper).on("DOMMouseScroll",function(e){e.preventDefault()}),e(this.wrapper).on("mousewheel",function(e){e.preventDefault()})),this.zoom=n.zoom,n.zoomDisabled||(this.bookLayer.bind("DOMMouseScroll",function(e){return e.originalEvent.detail>0?i.zoomOut(e.originalEvent):i.zoomIn(e.originalEvent),!1}),this.bookLayer.bind("mousewheel",function(e){return e.originalEvent.wheelDelta<0?i.zoomOut(e.originalEvent):i.zoomIn(e.originalEvent),!1}),this.bookLayer.bind("gesturestart",function(e){e.scale<1||e.scale},!1),this.bookLayer.bind("gestureend",function(e){e.scale<1?i.zoomOut(e):e.scale>1&&i.zoomIn(e)},!1),this.bookLayer.bind("gesturechange",function(e){e.scale<1?i.zoomOut(e):e.scale>1&&i.zoomIn(e)},!1)),n.contentOnStart&&i.toggleToc(!0),n.thumbnailsOnStart&&i.toggleThumbs(!0),n.autoplayOnStart&&i.toggleAutoplay(!0),i.Book.enable(),i.Book.updateVisiblePages(),i.initColors()},initSwipe:function(){var e=this;t.jQuery(this.bookLayer).swipe({swipeStatus:function(t,o,n,i,s,a,r){if("start"==o)try{e.currentPageInput.trigger("blur")}catch(t){}if(!e.options.sideNavigationButtons||t.target!==e.arrowL[0]&&t.target!==e.arrowR[0])if("touchend"==t.type&&s<200&&i>10&&"up"==n&&(e.fullscreenActive||e.toggleExpand()),"touchend"==t.type&&s<200&&i>10&&"down"==n&&e.fullscreenActive&&e.toggleExpand(),"touchend"==t.type&&s<100&&i<10){var l=t.changedTouches[0].pageX,p=e.bookLayer.width();l<p/3?(e.Book.prevPage(),t.preventDefault(),t.stopPropagation()):l>2*p/3?(e.Book.nextPage(),t.preventDefault(),t.stopPropagation()):(e.toggleMenu(),t.preventDefault(),t.stopPropagation())}else{if(("up"==n||"down"==n)&&"move"==o)return;e.Book.onSwipe(t,o,n,i,s,a,r)}},allowPageScroll:e.options.allowPageScroll})},toggleMenu:function(){this.menuShowing?(this.menuShowing=!1,this.bookLayer.css("bottom","0px"),this.menuWrapper.fadeOut(),this.currentPageHolder.fadeOut(),e(".flipbook-nav").fadeOut(),this.Book.onResize()):(this.menuShowing=!0,this.bookLayer.css("bottom",this.menuWrapper.height()+"px"),this.menuWrapper.fadeIn(),this.currentPageHolder.fadeIn(),e(".flipbook-nav").fadeIn(),this.Book.onResize())},createButton:function(t){var n=e(o.createElement("span")).attr("aria-hidden","true").appendTo(this.menu).addClass(t.icon).addClass("flipbook-icon-general flipbook-menu-btn skin-color skin-color-bg fa").attr("title",t.title),i=this.options;return n.css({width:i.btnSize+"px","font-size":i.btnSize+"px","border-radius":i.btnRadius+"px",margin:i.btnMargin+"px",padding:i.btnPaddingV+"px "+i.btnPaddingH+"px","text-shadow":i.btnTextShadow,"box-shadow":i.btnShadow,border:i.btnBorder,color:i.btnColor,background:i.btnBackground}),n},createMenu:function(){var n=this.options,i=this;this.menuWrapper=e(o.createElement("div")).addClass("flipbook-menuWrapper"),this.menuWrapper.appendTo(this.wrapper),n.hideMenu&&this.menuWrapper.hide(),this.menu=e(o.createElement("div")).addClass("flipbook-menu skin-color-bg").appendTo(this.menuWrapper).css({background:n.menuBackground,"box-shadow":n.menuShadow,margin:n.menuMargin+"px",padding:n.menuPadding+"px","text-align":n.menuAlignHorizontal}),n.sideNavigationButtons?(i.btnNext=e('<div class="flipbook-nav"><div class="flipbook-arrow-wrapper"><span class="flipbook-right-arrow fa fa-angle-right skin-color skin-color-bg"></div></div>').appendTo(i.bookLayer).bind("tap click",function(e){i.btnNext.disabled||(i.btnNext.disabled=!0,setTimeout(function(){i.btnNext.disabled=!1},300),e.stopPropagation(),e.preventDefault(),i.Book.nextPage())}),i.arrowL=i.btnNext.find("span"),i.arrowL.css({width:n.sideBtnSize+"px","font-size":n.sideBtnSize+"px","border-radius":n.sideBtnRadius+"px","margin-top":String(-n.sideBtnSize/2)+"px","margin-right":n.sideBtnMargin+"px",padding:n.sideBtnPaddingV+"px "+n.sideBtnPaddingH+"px","text-shadow":n.sideBtnTextShadow,"box-shadow":n.sideBtnShadow,border:n.sideBtnBorder,color:n.sideBtnColor,background:n.sideBtnBackground}),i.btnPrev=e('<div class="flipbook-nav"><div class="flipbook-arrow-wrapper"><span class="flipbook-left-arrow fa fa-angle-left skin-color skin-color-bg"></div></div>').appendTo(i.bookLayer).bind("tap click",function(e){i.btnPrev.disabled||(i.btnPrev.disabled=!0,setTimeout(function(){i.btnPrev.disabled=!1},300),e.stopPropagation(),e.preventDefault(),i.Book.prevPage())}),i.arrowR=i.btnPrev.find("span"),i.arrowR.css({width:n.sideBtnSize+"px","font-size":n.sideBtnSize+"px","border-radius":n.sideBtnRadius+"px","margin-top":String(-n.sideBtnSize/2)+"px","margin-left":n.sideBtnMargin+"px",padding:n.sideBtnPaddingV+"px "+n.sideBtnPaddingH+"px","text-shadow":n.sideBtnTextShadow,"box-shadow":n.sideBtnShadow,border:n.sideBtnBorder,color:n.sideBtnColor,background:n.sideBtnBackground}),i.options.btnFirst.enabled&&(i.btnFirst=e('<div class="flipbook-nav"><div class="flipbook-arrow-wrapper"><span class="flipbook-first-arrow fa fa-angle-double-left skin-color skin-color-bg"></div></div>').appendTo(i.bookLayer).bind("tap click",function(e){i.btnFirst.disabled||(i.btnFirst.disabled=!0,setTimeout(function(){i.btnFirst.disabled=!1},300),e.stopPropagation(),e.preventDefault(),i.Book.goToPage(1))}),i.btnFirst.find("span").css({width:n.sideBtnSize+"px","font-size":.66*n.sideBtnSize+"px","border-radius":n.sideBtnRadius+"px","margin-top":String(n.sideBtnSize/2+n.sideBtnMargin)+"px","margin-left":n.sideBtnMargin+"px",padding:n.sideBtnPaddingV+"px "+n.sideBtnPaddingH+"px","text-shadow":n.sideBtnTextShadow,"box-shadow":n.sideBtnShadow,border:n.sideBtnBorder,color:n.sideBtnColor,background:n.sideBtnBackground})),i.options.btnLast.enabled&&(i.btnLast=e('<div class="flipbook-nav"><div class="flipbook-arrow-wrapper"><span class="flipbook-last-arrow fa fa-angle-double-right skin-color skin-color-bg"></div></div>').appendTo(i.bookLayer).bind("tap click",function(e){i.btnLast.disabled||(i.btnLast.disabled=!0,setTimeout(function(){i.btnLast.disabled=!1},300),e.stopPropagation(),e.preventDefault(),i.Book.goToPage(i.pages.length))}),i.btnLast.find("span").css({width:n.sideBtnSize+"px","font-size":.66*n.sideBtnSize+"px","border-radius":n.sideBtnRadius+"px","margin-top":String(n.sideBtnSize/2+n.sideBtnMargin)+"px","margin-right":n.sideBtnMargin+"px",padding:n.sideBtnPaddingV+"px "+n.sideBtnPaddingH+"px","text-shadow":n.sideBtnTextShadow,"box-shadow":n.sideBtnShadow,border:n.sideBtnBorder,color:n.sideBtnColor,background:n.sideBtnBackground}))):(n.btnFirst.enabled&&(this.btnFirst=this.createButton(n.btnFirst).bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),i.Book.goToPage(1)})),n.btnPrev.enabled&&(this.btnPrev=this.createButton(n.btnPrev).bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),i.Book.prevPage()})),n.btnNext.enabled&&(this.btnNext=this.createButton(n.btnNext).bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),i.Book.nextPage()})),n.btnLast.enabled&&(this.btnLast=this.createButton(n.btnLast).bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),i.Book.goToPage(i.pages.length)}))),n.btnAutoplay.enabled&&(this.btnAutoplay=this.createButton(n.btnAutoplay).bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),i.autoplay||i.Book.nextPage(),i.toggleAutoplay()})),n.btnZoomIn.enabled&&(this.btnZoomIn=this.createButton(n.btnZoomIn).bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),i.zoomIn()})),n.btnZoomOut.enabled&&(this.btnZoomOut=this.createButton(n.btnZoomOut).bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),i.zoomOut()})),this.onZoom(n.zoom),!n.btnToc.enabled||!n.btnTocIfMobile&&n.isMobile||(this.btnToc=this.createButton(n.btnToc).bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),i.toggleToc()})),!n.btnThumbs.enabled||!n.btnThumbsIfMobile&&n.isMobile||(this.btnThumbs=this.createButton(n.btnThumbs).bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),i.toggleThumbs()})),!n.btnShare.enabled||!n.btnShareIfMobile&&n.isMobile||(this.btnShare=this.createButton(n.btnShare).addClass("flipbook-share"),this.share=new Share(this.btnShare[0],{networks:{google_plus:n.google_plus,twitter:n.twitter,facebook:n.facebook,pinterest:n.pinterest,email:n.email}})),!n.btnDownloadPages.enabled||!n.btnDownloadPagesIfMobile&&n.isMobile||(this.btnDownloadPages=this.createButton(n.btnDownloadPages).bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),t.location=n.btnDownloadPages.url})),!n.btnPrint.enabled||!n.btnPrintIfMobile&&n.isMobile||(this.btnPrint=this.createButton(n.btnPrint).bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),i.togglePrintWindow()})),!n.btnDownloadPdf.enabled||!n.btnDownloadPdfIfMobile&&n.isMobile||(this.btnDownloadPdf=this.createButton(n.btnDownloadPdf),n.pdfMode&&(n.btnDownloadPdf.url=n.pdfUrl),this.btnDownloadPdf.bind("touchend click",function(e){e.stopPropagation(),e.preventDefault();var o=n.btnDownloadPdf.openInNewWindow||(n.btnDownloadPdf.openInNewWindow,!0)?"_blank":"_self";t.open(n.btnDownloadPdf.url,o)})),n.sound&&n.btnSound.enabled&&(n.btnSoundIfMobile||!n.isMobile)&&(this.btnSound=this.createButton(n.btnSound).bind("touchend click",function(t){t.stopPropagation(),t.preventDefault(),n.sound?(n.sound=!1,e(this).addClass("fa-volume-off").removeClass("fa-volume-up")):(n.sound=!0,e(this).addClass("fa-volume-up").removeClass("fa-volume-off"))})),!n.btnExpand.enabled||!n.btnExpandIfMobile&&n.isMobile||(this.btnExpand=this.createButton(n.btnExpand).addClass("btnExpand").bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),i.toggleExpand()})),n.btnSlideshow.enabled&&(this.btnExpand=this.createButton(n.btnSlideshow).addClass("btnSlideshow").bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),i.toggleSlideshow()})),o.addEventListener("MSFullscreenChange",function(e){i.handleFsChange()}),o.addEventListener("mozfullscreenchange",function(e){i.handleFsChange()}),o.addEventListener("webkitfullscreenchange",function(e){i.handleFsChange()}),o.addEventListener("fullscreenchange",function(e){i.handleFsChange()})},handleFsChange:function(){var t=this,n=t.lightbox?e(o.body):t.$elem;o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement||o.msFullscreenElement||this.isFullscreen?(e(".btnExpand").addClass(t.options.btnExpand.iconAlt).removeClass(t.options.btnExpand.icon),n.addClass("flipbook-browser-fullscreen"),this.fullscreenActive=!0):(e(".btnExpand").addClass(t.options.btnExpand.icon).removeClass(t.options.btnExpand.iconAlt),n.removeClass("flipbook-browser-fullscreen"),this.fullscreenActive=!1),this.triggerResize()},createLogo:function(){var o=this.options;if(o.logoImg&&(!o.isMobile||!o.logoHideOnMobile)){var n=e("<img>").attr("src",o.logoImg).attr("style",o.logoCSS).appendTo(this.wrapper);"right"==o.logoAlignH&&n.css("right","0"),"bottom"==o.logoAlignV&&n.css("bottom","0"),o.logoUrl&&n.bind("touchend click",function(){t.open(o.logoUrl,"_blank")})}},createLoadingBar:function(){this.options.preloader?this.preloader=this.options.preloader:this.preloader=e('<div class="cssload-container"><div class="cssload-speeding-wheel"></div></div>'),this.options.lightBox?this.preloader.appendTo(e("body")):this.preloader.appendTo(this.wrapper),this.setLoadingProgress(0)},setLoadingProgress:function(e){e>0&&e<1?this.preloader.css("display","block"):this.preloader.css("display","none")},createNavigation:function(){var t=this;this.navLeft=e("<div />"),this.navLeft.css("background","#f00").css("left","0").css("top","200px").attr("aria-hidden","true").addClass("skin-color fa fa-chevron-left fa-5x").css("margin-top",this.navLeft.height()+"px").bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),t.Book.prevPage()}),this.navRight=e("<div />").appendTo(this.bookLayer).css("position","absolute").css("width","200px").css("height","200px").css("margin-top","-100px").css("background","#f00").css("right","0").css("top","200px").bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),t.Book.nextPage()})},playFlipSound:function(){var e=this;this.options.sound&&this.Book.enabled&&void 0!==this.flipsound.play&&(this.flipsound.currentTime=0,setTimeout(function(){e.flipsound.play()},100))},onMouseWheel:function(e){if("wheelDeltaX"in e)wheelDeltaX=e.wheelDeltaX/12,wheelDeltaY=e.wheelDeltaY/12;else if("wheelDelta"in e)wheelDeltaX=wheelDeltaY=e.wheelDelta/12;else{if(!("detail"in e))return;wheelDeltaX=wheelDeltaY=3*-e.detail}wheelDeltaX>0?this.zoomIn(e):this.zoomOut(e)},zoomOut:function(e){var t=this.zoom/this.options.zoomStep;switch(t=t<this.options.zoomMin?this.options.zoomMin:t,this.zoom=t,this.options.viewMode){case"2d":case"3d":this.scroll.zoom(this.zoom*this.ratio,this.bookLayer.width()/2,this.bookLayer.height()/2,0);break;case"webgl":this.Book.zoomTo(this.zoom,50,e);break;case"swipe":this.Book.zoomOut(this.zoom,50,e)}this.onZoom(this.zoom)},zoomIn:function(e){var t=this.zoom*this.options.zoomStep;switch(this.bookLayer.height()*t>this.options.zoomSize&&(t=this.options.zoomSize/this.bookLayer.height()),this.zoom=t,this.options.viewMode){case"2d":case"3d":this.scroll.zoom(this.zoom*this.ratio,this.bookLayer.width()/2,this.bookLayer.height()/2,0);break;case"webgl":this.Book.zoomTo(this.zoom,50,e);break;case"swipe":this.Book.zoomIn(this.zoom,50,e)}this.onZoom(this.zoom)},onZoom:function(e){this.zoom=e,this.enableButton(this.btnZoomIn,e<this.options.zoomMax),this.enableButton(this.btnZoomOut,e>this.options.zoomMin),this.enableSwipe(e<=1)},enableSwipe:function(e){if(this.bookLayer){var o=e?"enable":"disable";t.jQuery(this.bookLayer).swipe(o)}},createCurrentPage:function(){var t=this,n=e("<div>").appendTo(this.wrapper).addClass("flipbook-currentPageHolder");"top"==this.options.currentPagePositionV?n.css("top","0"):n.css("bottom","0"),"left"==this.options.currentPagePositionH?n.css("left","0"):n.css("right","0"),n.css("margin",this.options.currentPageMarginV+"px "+this.options.currentPageMarginH+"px"),this.currentPageHolder=n,this.currentPage=e(o.createElement("div")).addClass("flipbook-currentPageNumber").appendTo(n);var i=e("<form>").appendTo(n).submit(function(e){var o=parseInt(t.currentPageInput.val());return o=o>t.pages.length?t.pages.length:o,t.options.rightToLeft&&(o=t.options.pages.length-o+1),t.options.singlePageMode&&o--,t.Book.goToPage(o),t.currentPageInput.trigger("blur"),!1});this.currentPageInput=e('<input type="text" maxlength="4">').addClass("flipbook-currentPageInput").appendTo(i).focus(function(){t.currentPageInput.val("").width(t.currentPageHolder.width()),t.currentPage.addClass("flipbook-color-transparent")}).blur(function(){t.currentPage.removeClass("flipbook-color-transparent"),t.currentPageInput.val("")})},createToc:function(t){var n=this;this.tocHolder=e("<div>").addClass("flipbook-tocHolder skin-color-bg").appendTo(this.wrapper).css("left","-1000px"),this.toc=e("<div>").addClass(".flipbook-toc").appendTo(this.tocHolder),n.tocScroll=new FLIPBOOK.IScroll(n.tocHolder[0],{bounce:!1,mouseWheel:!0,scrollbars:!0});var i=e(o.createElement("span")).addClass("flipbook-tocTitle").addClass("skin-color").appendTo(this.toc);e("<span>").attr("aria-hidden","true").appendTo(i).addClass("flipbook-btn-close fa fa-times flipbook-icon-general skin-color").bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),n.toggleToc()});if(t.length>0)for(var s=this.pages,a=0;a<t.length;a++){r=e(o.createElement("a")).attr("class","flipbook-tocItem").addClass("skin-color").attr("title",t[a].page).appendTo(this.toc).bind("touchend click",function(t){if(t.stopPropagation(),t.preventDefault(),!n.tocScroll.moved){var o=Number(e(this).attr("title"));n.options.rightToLeft&&(o=n.pages.length-o+1),n.options.singlePageMode&&o--,n.Book.goingToPage!=o&&(n.Book.goToPage(o),n.options.tableOfContentCloseOnClick&&n.toggleToc(!1))}});e(o.createElement("span")).appendTo(r).text(t[a].title),e(o.createElement("span")).appendTo(r).attr("class","right").text(t[a].page)}else for(var s=this.pages,a=0;a<s.length;a++)if(""!=s[a].title&&void 0!==s[a].title){var r=e(o.createElement("a")).attr("class","flipbook-tocItem").addClass("skin-color").attr("title",String(a+1)).appendTo(this.toc).bind("touchend click",function(t){if(t.stopPropagation(),t.preventDefault(),!n.tocScroll.moved){var o=Number(e(this).attr("title"));n.options.rightToLeft&&(o=n.pages.length-o-1),n.options.singlePageMode&&o--,n.Book.goingToPage!=o&&(n.Book.goToPage(o),n.options.tableOfContentCloseOnClick&&n.toggleToc(!1))}});e(o.createElement("span")).appendTo(r).text(s[a].title),e(o.createElement("span")).appendTo(r).attr("class","right").text(a+1)}n.tocScroll.refresh()},enablePrev:function(e){this.enableButton(this.btnPrev,e),this.enableButton(this.btnFirst,e),this.Book.enablePrev(e)},enableNext:function(e){this.enableButton(this.btnNext,e),this.enableButton(this.btnLast,e),this.Book.enableNext(e)},enableAutoplay:function(e){this.enableButton(this.btnAutoplay,e),this.enableButton(this.btnAutoplay,e)},enableButton:function(e,t){void 0!==e&&(t?(e.css("opacity","1"),e.css("pointer-events","auto")):(e.css("opacity","0.2"),e.css("pointer-events","none")),e.enabled=t)},resize:function(e){void 0===e&&(e=this),this.blw=e.bookLayer.width(),this.blh=e.bookLayer.height();var t=e.book.width(),o=e.book.height();this.blw/this.blh>=t/o?e.fitToHeight(!0):e.fitToWidth(!0),!e.options.menuOverBook&&e.menuShowing?e.bookLayer.css("bottom",e.menuWrapper.height()+"px"):e.bookLayer.css("bottom","0px"),"swipe"==e.options.viewMode&&e.Book.onResize(),"webgl"==e.options.viewMode&&(e.Book.onResize(),setTimeout(function(){e.Book.onResize()},1e3)),this.scroll&&this.scroll.refresh()},pdfResize:function(){this.Book.onZoom()},fitToHeight:function(e){var t=this.bookLayer.height(),o=this.book.height();e&&(this.ratio=t/o),this.fit(this.ratio,e),this.thumbsVertical()},fitToWidth:function(e){var t=this.bookLayer.width(),o=this.book.width();e&&(this.ratio=t/o),this.fit(this.ratio,e),this.thumbsVertical()},fit:function(e,t){!this.webglMode&&this.scroll&&(e=t?this.ratio:this.scroll.scale,t&&(this.scroll.options.zoomMin=e*this.options.zoomMin,this.scroll.options.zoomMax=e*this.options.zoomMax),this.scroll.zoom(e*this.options.zoom,this.bookLayer.width()/2,this.bookLayer.height()/2,0))},createThumbs:function(){var t=this;if(t.options.btnThumbs.enabled){t.options.pdfMode&&t.loadThumbsFromPdf(),t.thumbsCreated=!0,t.thumbHolder=e(o.createElement("div")).addClass("flipbook-thumbHolder").addClass("skin-color-bg").appendTo(t.wrapper),t.thumbsContainer=e(o.createElement("div")).appendTo(t.thumbHolder).addClass("flipbook-thumbContainer").width(2*t.options.thumbnailWidth+25);var n=e(o.createElement("span")).addClass("flipbook-thumbsTitle").addClass("skin-color").appendTo(this.thumbHolder);e(o.createElement("span")).attr("aria-hidden","true").appendTo(n).addClass("flipbook-btn-close").addClass("fa fa-times").addClass("flipbook-icon-general").addClass("skin-color").bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),t.toggleThumbs()});t.thumbs=[];for(var i=t.pages,s=e('<div class="flipbook-thumb">').appendTo(t.thumbsContainer).width(t.options.thumbnailWidth),a=0;a<i.length;a++){var r=i[a].thumb,s=e('<div class="flipbook-thumb">').appendTo(t.thumbsContainer);if(i[a].thumbCanvas)var l=e(i[a].thumbCanvas);else{if(!r)continue;(l=e("<img/>").attr("src",r))[0].onload=function(){t.thumbScroll.refresh()}}l.appendTo(s).width(t.options.thumbnailWidth).attr("title",a+1).bind("touchend click",function(o){if(o.stopPropagation(),o.preventDefault(),!t.thumbScroll.moved){var n=Number(e(this).attr("title"));t.options.rightToLeft&&(n=i.length-n+1),t.options.singlePageMode&&n--,t.Book.goingToPage!=n&&t.Book.goToPage(n)}});e("<span/>").text(a+1).appendTo(s).addClass("skin-color").addClass("flipbook-thumb-num").width(t.options.thumbnailWidth)}t.thumbScroll=new FLIPBOOK.IScroll(t.thumbHolder[0],{bounce:!1,mouseWheel:!0,scrollbars:!0})}},toggleThumbs:function(e){this.thumbsCreated||(this.createThumbs(),this.initColors()),this.thumbHolder&&(!this.thumbsShowing||e?(this.thumbHolder.css("left","0"),this.tocShowing&&this.toggleToc(),this.thumbsVertical(),this.bookLayer.css("left",this.thumbHolder.width()+"px"),this.thumbsShowing=!0):(this.thumbHolder.css("left","-1000px"),this.bookLayer.css("left","0"),this.thumbsShowing=!1),this.resize())},toggleToc:function(e){!this.tocShowing||e?(this.tocShowing=!0,this.tocHolder.css("left","0"),this.thumbsShowing&&this.toggleThumbs(),this.tocScroll.refresh(),this.bookLayer.css("left",this.tocHolder.width()+"px")):(this.tocHolder.css("left","-1000px"),this.tocShowing=!1,this.bookLayer.css("left","0")),this.resize()},printPdf:function(e){t.open(e,"_blank").onload=function(){this.print()}},togglePrintWindow:function(e){function o(){link="about:blank";var e=t.open(link,"_new");e.document.open();for(var o="",s=0;s<i.options.pages.length;s++)i.options.pages[s].src&&(o+='<img src="'+i.options.pages[s].src.toString()+'"/>\n');var a=n(o);e.document.write(a),e.document.close()}function n(e){return"<html>\n<head>\n<title>Temporary Printing Window</title>\n<script>\nfunction step1() {\n  setTimeout('step2()', 10);\n}\nfunction step2() {\n  window.print();\n  window.close();\n}\n<\/script>\n</head>\n<body onLoad='step1()'>\n"+e+"</body>\n</html>\n"}if((i=this).options.printPdfUrl)i.printPdf(i.options.printPdfUrl);else if(i.options.pdfUrl)i.printPdf(i.options.pdfUrl);else{return void o();var i}},thumbsVertical:function(){this.thumbsCreated&&(this.thumbScroll.hScroll=!1,this.thumbScroll.vScroll=!0,this.thumbScroll.refresh())},toggleExpand:function(t){this.browserFullscreen=!0;var n=this.lightbox?o.documentElement:this.elem[0];screenfull.enabled?screenfull.toggle(n):(e(n).toggleClass("flipbook-browser-fullscreen"),this.isFullscreen=!this.isFullscreen,this.handleFsChange())},toggleAutoplay:function(t){var o=this;this.autoplay=t||!this.autoplay,this.autoplay?(e(".fa-play").removeClass("fa-play").addClass("fa-pause"),this.autoplayTimer=setInterval(function(){o.autoplay&&o.Book.nextPage()},o.options.autoplayInterval)):(e(".fa-pause").removeClass("fa-pause").addClass("fa-play"),clearInterval(o.autoplayTimer))},triggerResize:function(){setTimeout(function(){e(t).trigger("resize")},100),setTimeout(function(){e(t).trigger("resize")},500),setTimeout(function(){e(t).trigger("resize")},2e3)},toggleSlideshow:function(){},initEasing:function(){t.jQuery.extend(t.jQuery.easing,{def:"easeOutQuad",swing:function(t,o,n,i,s){return e.easing[e.easing.def](t,o,n,i,s)},easeInQuad:function(e,t,o,n,i){return n*(t/=i)*t+o},easeOutQuad:function(e,t,o,n,i){return-n*(t/=i)*(t-2)+o},easeInOutQuad:function(e,t,o,n,i){return(t/=i/2)<1?n/2*t*t+o:-n/2*(--t*(t-2)-1)+o},easeInCubic:function(e,t,o,n,i){return n*(t/=i)*t*t+o},easeOutCubic:function(e,t,o,n,i){return n*((t=t/i-1)*t*t+1)+o},easeInOutCubic:function(e,t,o,n,i){return(t/=i/2)<1?n/2*t*t*t+o:n/2*((t-=2)*t*t+2)+o},easeInQuart:function(e,t,o,n,i){return n*(t/=i)*t*t*t+o},easeOutQuart:function(e,t,o,n,i){return-n*((t=t/i-1)*t*t*t-1)+o},easeInOutQuart:function(e,t,o,n,i){return(t/=i/2)<1?n/2*t*t*t*t+o:-n/2*((t-=2)*t*t*t-2)+o},easeInQuint:function(e,t,o,n,i){return n*(t/=i)*t*t*t*t+o},easeOutQuint:function(e,t,o,n,i){return n*((t=t/i-1)*t*t*t*t+1)+o},easeInOutQuint:function(e,t,o,n,i){return(t/=i/2)<1?n/2*t*t*t*t*t+o:n/2*((t-=2)*t*t*t*t+2)+o},easeInSine:function(e,t,o,n,i){return-n*Math.cos(t/i*(Math.PI/2))+n+o},easeOutSine:function(e,t,o,n,i){return n*Math.sin(t/i*(Math.PI/2))+o},easeInOutSine:function(e,t,o,n,i){return-n/2*(Math.cos(Math.PI*t/i)-1)+o},easeInExpo:function(e,t,o,n,i){return 0==t?o:n*Math.pow(2,10*(t/i-1))+o},easeOutExpo:function(e,t,o,n,i){return t==i?o+n:n*(1-Math.pow(2,-10*t/i))+o},easeInOutExpo:function(e,t,o,n,i){return 0==t?o:t==i?o+n:(t/=i/2)<1?n/2*Math.pow(2,10*(t-1))+o:n/2*(2-Math.pow(2,-10*--t))+o},easeInCirc:function(e,t,o,n,i){return-n*(Math.sqrt(1-(t/=i)*t)-1)+o},easeOutCirc:function(e,t,o,n,i){return n*Math.sqrt(1-(t=t/i-1)*t)+o},easeInOutCirc:function(e,t,o,n,i){return(t/=i/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+o:n/2*(Math.sqrt(1-(t-=2)*t)+1)+o},easeInElastic:function(e,t,o,n,i){var s=1.70158,a=0,r=n;if(0==t)return o;if(1==(t/=i))return o+n;if(a||(a=.3*i),r<Math.abs(n)){r=n;s=a/4}else s=a/(2*Math.PI)*Math.asin(n/r);return-r*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*(2*Math.PI)/a)+o},easeOutElastic:function(e,t,o,n,i){var s=1.70158,a=0,r=n;if(0==t)return o;if(1==(t/=i))return o+n;if(a||(a=.3*i),r<Math.abs(n)){r=n;s=a/4}else s=a/(2*Math.PI)*Math.asin(n/r);return r*Math.pow(2,-10*t)*Math.sin((t*i-s)*(2*Math.PI)/a)+n+o},easeInOutElastic:function(e,t,o,n,i){var s=1.70158,a=0,r=n;if(0==t)return o;if(2==(t/=i/2))return o+n;if(a||(a=i*(.3*1.5)),r<Math.abs(n)){r=n;s=a/4}else s=a/(2*Math.PI)*Math.asin(n/r);return t<1?r*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*(2*Math.PI)/a)*-.5+o:r*Math.pow(2,-10*(t-=1))*Math.sin((t*i-s)*(2*Math.PI)/a)*.5+n+o},easeInBack:function(e,t,o,i,s,a){return a==n&&(a=1.70158),i*(t/=s)*t*((a+1)*t-a)+o},easeOutBack:function(e,t,o,i,s,a){return a==n&&(a=1.70158),i*((t=t/s-1)*t*((a+1)*t+a)+1)+o},easeInOutBack:function(e,t,o,i,s,a){return a==n&&(a=1.70158),(t/=s/2)<1?i/2*(t*t*((1+(a*=1.525))*t-a))+o:i/2*((t-=2)*t*((1+(a*=1.525))*t+a)+2)+o},easeInBounce:function(t,o,n,i,s){return i-e.easing.easeOutBounce(t,s-o,0,i,s)+n},easeOutBounce:function(e,t,o,n,i){return(t/=i)<1/2.75?n*(7.5625*t*t)+o:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+o:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+o:n*(7.5625*(t-=2.625/2.75)*t+.984375)+o},easeInOutBounce:function(t,o,n,i,s){return o<s/2?.5*e.easing.easeInBounce(t,2*o,0,i,s)+n:.5*e.easing.easeOutBounce(t,2*o-s,0,i,s)+.5*i+n}})}},FLIPBOOK.Lightbox=function(t,n,i){var s=this;this.context=t,this.options=i,this.lightboxOpened=!1,t.$elem.bind("tap click",function(e){s.openLightbox()});e(t.elem).find("img");s.overlay=e(o.createElement("div")).attr("class","flipbook-overlay").css("display","none").css("top",s.options.lightboxMarginV).css("bottom",s.options.lightboxMarginV).css("left",s.options.lightboxMarginH).css("right",s.options.lightboxMarginH).bind("tap click",function(t){e(t.target).hasClass("flipbook-bookLayer")&&s.options.lightboxCloseOnClick&&s.closeLightbox()}).appendTo("body"),i.lightboxBackground&&s.overlay.css("background",i.lightboxBackground),e(o).keyup(function(e){27==e.keyCode&&s.closeLightbox()}),s.wrapper=e(o.createElement("div")).css("height","auto").appendTo(s.overlay),s.wrapper.attr("class","flipbook-wrapper-transparent").css("margin","0px auto").css("padding","0px").css("height","100%").css("width","100%"),n.appendTo(s.wrapper);var a=e("<div/>").appendTo(s.wrapper).addClass("flipbook-lightbox-toolbar"),r=i;e('<span title="Press Esc tp close"/>').appendTo(a).bind("touchend click",function(e){e.stopPropagation(),e.preventDefault(),s.closeLightbox()}).addClass("flipbook-lightbox-close fa fa-times").css({"font-size":r.closeBtnSize+"px",padding:r.closeBtnPadding+"px ",margin:r.closeBtnMargin+"px ","border-radius":r.closeBtnRadius+"px ","text-shadow":r.closeBtnTextShadow,color:r.closeBtnColor,background:r.closeBtnBackground,border:r.closeBtnBorder})},FLIPBOOK.Lightbox.prototype={openLightbox:function(){var t=this;this.overlay.css("visibility","visible"),this.overlay.css("display","none"),this.wrapper.css("display","none"),this.overlay.fadeIn("fast",function(){t.wrapper.css("display","block"),t.wrapper.css("opacity","1"),t.context.lightboxStart(),t.lightboxOpened=!0}),this.wrapper.css("display","block"),this.wrapper.css("opacity","0"),e("body").addClass("flipbook-overflow-hidden"),e("html").addClass("flipbook-overflow-hidden")},closeLightbox:function(){var t=this;1==t.lightboxOpened&&(t.lightboxOpened=!1,this.overlay.fadeOut("fast"),e("body").removeClass("flipbook-overflow-hidden"),e("html").removeClass("flipbook-overflow-hidden"),t.context.lightboxEnd())},resize:function(){var o=e(t);o.width(),o.height()}},FLIPBOOK.getFlipbookSrc=function(){for(var e=o.getElementsByTagName("script"),t=0;t<e.length;t++){var n=String(e[t].src);if(n.match("flipbook\\.js")||n.match("flipbook\\.min\\.js"))return n}return""},FLIPBOOK.flipbookSrc=FLIPBOOK.getFlipbookSrc(),FLIPBOOK.iscrollSrc=FLIPBOOK.flipbookSrc.replace("/flipbook.","/iscroll."),FLIPBOOK.threejsSrc=FLIPBOOK.flipbookSrc.replace("/flipbook.","/three."),FLIPBOOK.flipbookWebGlSrc=FLIPBOOK.flipbookSrc.replace("/flipbook.","/flipbook.webgl."),FLIPBOOK.flipbookBook3Src=FLIPBOOK.flipbookSrc.replace("/flipbook.","/flipbook.book3."),FLIPBOOK.flipbookCarouselSrc=FLIPBOOK.flipbookSrc.replace("/flipbook.","/flipbook.carousel."),FLIPBOOK.pdfjsSrc=FLIPBOOK.flipbookSrc.replace("/flipbook.","/pdf."),FLIPBOOK.pdfServiceSrc=FLIPBOOK.flipbookSrc.replace("/flipbook.","/flipbook.pdfservice."),FLIPBOOK.pdfjsworkerSrc=FLIPBOOK.flipbookSrc.replace("/flipbook.","/pdf.worker."),FLIPBOOK.scriptsLoaded={}}(jQuery,window,document),function(){"use strict";var e="undefined"!=typeof module&&module.exports,t="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,o=function(){for(var e,t,o=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,i=o.length,s={};i>n;n++)if((e=o[n])&&e[1]in document){for(n=0,t=e.length;t>n;n++)s[o[0][n]]=e[n];return s}return!1}(),n={request:function(e){var n=o.requestFullscreen;e=e||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?e[n]():e[n](t&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[o.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},raw:o};o?(Object.defineProperties(n,{isFullscreen:{get:function(){return!!document[o.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[o.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!document[o.fullscreenEnabled]}}}),e?module.exports=n:window.screenfull=n):e?module.exports=!1:window.screenfull=!1}(),function(e){(jQuery.browser=jQuery.browser||{}).mobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}(navigator.userAgent||navigator.vendor||window.opera),function(e){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e(jQuery)}(function(e){function t(t){return!t||void 0!==t.allowPageScroll||void 0===t.swipe&&void 0===t.swipeStatus||(t.allowPageScroll=p),void 0!==t.click&&void 0===t.tap&&(t.tap=t.click),t||(t={}),t=e.extend({},e.fn.swipe.defaults,t),this.each(function(){var n=e(this),i=n.data(T);i||(i=new o(this,t),n.data(T,i))})}function o(t,o){function M(t){if(!(pe()||e(t.target).closest(o.excludedElements,Ve).length>0)){var n,i=t.originalEvent?t.originalEvent:t,s=i.touches,a=s?s[0]:i;return Ue=v,s?qe=s.length:t.preventDefault(),_e=0,De=null,We=null,He=0,Ae=0,Ke=0,Ne=1,Re=0,Qe=ge(),je=me(),re(),!s||qe===o.fingers||o.fingers===w||j()?(de(0,a),Ze=Oe(),2==qe&&(de(1,s[1]),Ae=Ke=ve(Qe[0].start,Qe[1].start)),(o.swipeStatus||o.pinchStatus)&&(n=_(i,Ue))):n=!1,!1===n?(Ue=y,_(i,Ue),n):(o.hold&&(et=setTimeout(e.proxy(function(){Ve.trigger("hold",[i.target]),o.hold&&(n=o.hold.call(Ve,i,i.target))},this),o.longTapThreshold)),ce(!0),null)}}function L(e){var t=e.originalEvent?e.originalEvent:e;if(Ue!==B&&Ue!==y&&!le()){var n,i=t.touches,s=ue(i?i[0]:t);if(Ye=Oe(),i&&(qe=i.length),o.hold&&clearTimeout(et),Ue=P,2==qe&&(0==Ae?(de(1,i[1]),Ae=Ke=ve(Qe[0].start,Qe[1].start)):(ue(i[1]),Ke=ve(Qe[0].end,Qe[1].end),We=Be(Qe[0].end,Qe[1].end)),Ne=Pe(Ae,Ke),Re=Math.abs(Ae-Ke)),qe===o.fingers||o.fingers===w||!i||j()){if(De=xe(s.start,s.end),R(e,De),_e=ye(s.start,s.end),He=ke(),fe(De,_e),(o.swipeStatus||o.pinchStatus)&&(n=_(t,Ue)),!o.triggerOnTouchEnd||o.triggerOnTouchLeave){var a=!0;if(o.triggerOnTouchLeave){var r=Te(this);a=Me(s.end,r)}!o.triggerOnTouchEnd&&a?Ue=z(P):o.triggerOnTouchLeave&&!a&&(Ue=z(B)),Ue!=y&&Ue!=B||_(t,Ue)}}else _(t,Ue=y);!1===n&&_(t,Ue=y)}}function I(e){var t=e.originalEvent?e.originalEvent:e,n=t.touches;return n&&n.length?(ae(),!0):(le()&&(qe=Ge),Ye=Oe(),He=ke(),A()||!H()?_(t,Ue=y):o.triggerOnTouchEnd||0==o.triggerOnTouchEnd&&Ue===P?(e.preventDefault(),_(t,Ue=B)):!o.triggerOnTouchEnd&&X()?D(t,Ue=B,h):Ue===P&&_(t,Ue=y),ce(!1),null)}function C(){qe=0,Ye=0,Ze=0,Ae=0,Ke=0,Ne=1,re(),ce(!1)}function E(e){var t=e.originalEvent?e.originalEvent:e;o.triggerOnTouchLeave&&_(t,Ue=z(B))}function F(){Ve.unbind(Ie,M),Ve.unbind(ze,C),Ve.unbind(Ce,L),Ve.unbind(Ee,I),Fe&&Ve.unbind(Fe,E),ce(!1)}function z(e){var t=e,n=N(),i=H(),s=A();return!n||s?t=y:!i||e!=P||o.triggerOnTouchEnd&&!o.triggerOnTouchLeave?!i&&e==B&&o.triggerOnTouchLeave&&(t=y):t=B,t}function _(e,t){var o,n=e.touches;return Q()||q()||V()||j()?((Q()||q())&&(o=D(e,t,d)),(V()||j())&&!1!==o&&(o=D(e,t,u))):ie()&&!1!==o?o=D(e,t,g):se()&&!1!==o?o=D(e,t,f):ne()&&!1!==o&&(o=D(e,t,h)),t===y&&C(e),t===B&&(n?n.length||C(e):C(e)),o}function D(t,p,c){var b;if(c==d){if(Ve.trigger("swipeStatus",[p,De||null,_e||0,He||0,qe,Qe]),o.swipeStatus&&!1===(b=o.swipeStatus.call(Ve,t,p,De||null,_e||0,He||0,qe,Qe)))return!1;if(p==B&&U()){if(Ve.trigger("swipe",[De,_e,He,qe,Qe]),o.swipe&&!1===(b=o.swipe.call(Ve,t,De,_e,He,qe,Qe)))return!1;switch(De){case n:Ve.trigger("swipeLeft",[De,_e,He,qe,Qe]),o.swipeLeft&&(b=o.swipeLeft.call(Ve,t,De,_e,He,qe,Qe));break;case i:Ve.trigger("swipeRight",[De,_e,He,qe,Qe]),o.swipeRight&&(b=o.swipeRight.call(Ve,t,De,_e,He,qe,Qe));break;case s:Ve.trigger("swipeUp",[De,_e,He,qe,Qe]),o.swipeUp&&(b=o.swipeUp.call(Ve,t,De,_e,He,qe,Qe));break;case a:Ve.trigger("swipeDown",[De,_e,He,qe,Qe]),o.swipeDown&&(b=o.swipeDown.call(Ve,t,De,_e,He,qe,Qe))}}}if(c==u){if(Ve.trigger("pinchStatus",[p,We||null,Re||0,He||0,qe,Ne,Qe]),o.pinchStatus&&!1===(b=o.pinchStatus.call(Ve,t,p,We||null,Re||0,He||0,qe,Ne,Qe)))return!1;if(p==B&&W())switch(We){case r:Ve.trigger("pinchIn",[We||null,Re||0,He||0,qe,Ne,Qe]),o.pinchIn&&(b=o.pinchIn.call(Ve,t,We||null,Re||0,He||0,qe,Ne,Qe));break;case l:Ve.trigger("pinchOut",[We||null,Re||0,He||0,qe,Ne,Qe]),o.pinchOut&&(b=o.pinchOut.call(Ve,t,We||null,Re||0,He||0,qe,Ne,Qe))}}return c==h?p!==y&&p!==B||(clearTimeout(Je),clearTimeout(et),G()&&!ee()?($e=Oe(),Je=setTimeout(e.proxy(function(){$e=null,Ve.trigger("tap",[t.target]),o.tap&&(b=o.tap.call(Ve,t,t.target))},this),o.doubleTapThreshold)):($e=null,Ve.trigger("tap",[t.target]),o.tap&&(b=o.tap.call(Ve,t,t.target)))):c==g?p!==y&&p!==B||(clearTimeout(Je),$e=null,Ve.trigger("doubletap",[t.target]),o.doubleTap&&(b=o.doubleTap.call(Ve,t,t.target))):c==f&&(p!==y&&p!==B||(clearTimeout(Je),$e=null,Ve.trigger("longtap",[t.target]),o.longTap&&(b=o.longTap.call(Ve,t,t.target)))),b}function H(){var e=!0;return null!==o.threshold&&(e=_e>=o.threshold),e}function A(){var e=!1;return null!==o.cancelThreshold&&null!==De&&(e=be(De)-_e>=o.cancelThreshold),e}function K(){return null===o.pinchThreshold||Re>=o.pinchThreshold}function N(){return!o.maxTimeThreshold||!(He>=o.maxTimeThreshold)}function R(e,t){if(!1!==o.preventDefaultEvents)if(o.allowPageScroll===p)e.preventDefault();else{var r=o.allowPageScroll===c;switch(t){case n:(o.swipeLeft&&r||!r&&o.allowPageScroll!=b)&&e.preventDefault();break;case i:(o.swipeRight&&r||!r&&o.allowPageScroll!=b)&&e.preventDefault();break;case s:(o.swipeUp&&r||!r&&o.allowPageScroll!=m)&&e.preventDefault();break;case a:(o.swipeDown&&r||!r&&o.allowPageScroll!=m)&&e.preventDefault()}}}function W(){var e=Z(),t=Y(),o=K();return e&&t&&o}function j(){return!!(o.pinchStatus||o.pinchIn||o.pinchOut)}function V(){return!(!W()||!j())}function U(){var e=N(),t=H(),o=Z(),n=Y();return!A()&&n&&o&&t&&e}function q(){return!!(o.swipe||o.swipeStatus||o.swipeLeft||o.swipeRight||o.swipeUp||o.swipeDown)}function Q(){return!(!U()||!q())}function Z(){return qe===o.fingers||o.fingers===w||!S}function Y(){return 0!==Qe[0].end.x}function X(){return!!o.tap}function G(){return!!o.doubleTap}function $(){return!!o.longTap}function J(){if(null==$e)return!1;var e=Oe();return G()&&e-$e<=o.doubleTapThreshold}function ee(){return J()}function te(){return(1===qe||!S)&&(isNaN(_e)||_e<o.threshold)}function oe(){return He>o.longTapThreshold&&_e<k}function ne(){return!(!te()||!X())}function ie(){return!(!J()||!G())}function se(){return!(!oe()||!$())}function ae(){Xe=Oe(),Ge=event.touches.length+1}function re(){Xe=0,Ge=0}function le(){var e=!1;return Xe&&Oe()-Xe<=o.fingerReleaseThreshold&&(e=!0),e}function pe(){return!(!0!==Ve.data(T+"_intouch"))}function ce(e){!0===e?(Ve.bind(Ce,L),Ve.bind(Ee,I),Fe&&Ve.bind(Fe,E)):(Ve.unbind(Ce,L,!1),Ve.unbind(Ee,I,!1),Fe&&Ve.unbind(Fe,E,!1)),Ve.data(T+"_intouch",!0===e)}function de(e,t){var o=void 0!==t.identifier?t.identifier:0;return Qe[e].identifier=o,Qe[e].start.x=Qe[e].end.x=t.pageX||t.clientX,Qe[e].start.y=Qe[e].end.y=t.pageY||t.clientY,Qe[e]}function ue(e){var t=he(void 0!==e.identifier?e.identifier:0);return t.end.x=e.pageX||e.clientX,t.end.y=e.pageY||e.clientY,t}function he(e){for(var t=0;t<Qe.length;t++)if(Qe[t].identifier==e)return Qe[t]}function ge(){for(var e=[],t=0;t<=5;t++)e.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return e}function fe(e,t){t=Math.max(t,be(e)),je[e].distance=t}function be(e){if(je[e])return je[e].distance}function me(){var e={};return e[n]=we(n),e[i]=we(i),e[s]=we(s),e[a]=we(a),e}function we(e){return{direction:e,distance:0}}function ke(){return Ye-Ze}function ve(e,t){var o=Math.abs(e.x-t.x),n=Math.abs(e.y-t.y);return Math.round(Math.sqrt(o*o+n*n))}function Pe(e,t){return(t/e*1).toFixed(2)}function Be(){return Ne<1?l:r}function ye(e,t){return Math.round(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))}function Se(e,t){var o=e.x-t.x,n=t.y-e.y,i=Math.atan2(n,o),s=Math.round(180*i/Math.PI);return s<0&&(s=360-Math.abs(s)),s}function xe(e,t){var o=Se(e,t);return o<=45&&o>=0?n:o<=360&&o>=315?n:o>=135&&o<=225?i:o>45&&o<135?a:s}function Oe(){return(new Date).getTime()}function Te(t){var o=(t=e(t)).offset();return{left:o.left,right:o.left+t.outerWidth(),top:o.top,bottom:o.top+t.outerHeight()}}function Me(e,t){return e.x>t.left&&e.x<t.right&&e.y>t.top&&e.y<t.bottom}var Le=S||O||!o.fallbackToMouseEvents,Ie=Le?O?x?"MSPointerDown":"pointerdown":"touchstart":"mousedown",Ce=Le?O?x?"MSPointerMove":"pointermove":"touchmove":"mousemove",Ee=Le?O?x?"MSPointerUp":"pointerup":"touchend":"mouseup",Fe=Le?null:"mouseleave",ze=O?x?"MSPointerCancel":"pointercancel":"touchcancel",_e=0,De=null,He=0,Ae=0,Ke=0,Ne=1,Re=0,We=0,je=null,Ve=e(t),Ue="start",qe=0,Qe=null,Ze=0,Ye=0,Xe=0,Ge=0,$e=0,Je=null,et=null;try{Ve.bind(Ie,M),Ve.bind(ze,C)}catch(t){e.error("events not supported "+Ie+","+ze+" on jQuery.swipe")}this.enable=function(){return Ve.bind(Ie,M),Ve.bind(ze,C),Ve},this.disable=function(){return F(),Ve},this.destroy=function(){F(),Ve.data(T,null),Ve=null},this.option=function(t,n){if(void 0!==o[t]){if(void 0===n)return o[t];o[t]=n}else e.error("Option "+t+" does not exist on jQuery.swipe.options");return null}}var n="left",i="right",s="up",a="down",r="in",l="out",p="none",c="auto",d="swipe",u="pinch",h="tap",g="doubletap",f="longtap",b="horizontal",m="vertical",w="all",k=10,v="start",P="move",B="end",y="cancel",S="ontouchstart"in window,x=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,O=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,T="TouchSwipe",M={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe",preventDefaultEvents:!0};e.fn.swipe=function(o){var n=e(this),i=n.data(T);if(i&&"string"==typeof o){if(i[o])return i[o].apply(this,Array.prototype.slice.call(arguments,1));e.error("Method "+o+" does not exist on jQuery.swipe")}else if(!(i||"object"!=typeof o&&o))return t.apply(this,arguments);return n},e.fn.swipe.version="1.6.9",e.fn.swipe.defaults=M,e.fn.swipe.phases={PHASE_START:v,PHASE_MOVE:P,PHASE_END:B,PHASE_CANCEL:y},e.fn.swipe.directions={LEFT:n,RIGHT:i,UP:s,DOWN:a,IN:r,OUT:l},e.fn.swipe.pageScroll={NONE:p,HORIZONTAL:b,VERTICAL:m,AUTO:c},e.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:w}}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Share=e()}}(function(){var e;"classList"in document.documentElement||!Object.defineProperty||"undefined"==typeof HTMLElement||Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){var e,t,o;return o=function(e){return function(o){var n,i;i=(n=t.className.split(/\s+/)).indexOf(o),e(n,i,o),t.className=n.join(" ")}},t=this,e={add:o(function(e,t,o){~t||e.push(o)}),remove:o(function(e,t){~t&&e.splice(t,1)}),toggle:o(function(e,t,o){~t?e.splice(t,1):e.push(o)}),contains:function(e){return!!~t.className.split(/\s+/).indexOf(e)},item:function(e){return t.className.split(/\s+/)[e]||null}},Object.defineProperty(e,"length",{get:function(){return t.className.split(/\s+/).length}}),e}}),String.prototype.to_rfc3986=function(){return encodeURIComponent(this).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16)})},e=function(){function e(){}return e.prototype.extend=function(e,t,o){var n,i;for(i in t)n=void 0!==e[i],n&&"object"==typeof t[i]?this.extend(e[i],t[i],o):(o||!n)&&(e[i]=t[i])},e.prototype.hide=function(e){return e.style.display="none"},e.prototype.show=function(e){return e.style.display="block"},e.prototype.has_class=function(e,t){return e.classList.contains(t)},e.prototype.add_class=function(e,t){return e.classList.add(t)},e.prototype.remove_class=function(e,t){return e.classList.remove(t)},e.prototype.is_encoded=function(e){return e=e.to_rfc3986(),decodeURIComponent(e)!==e},e.prototype.encode=function(e){return void 0===e||this.is_encoded(e)?e:e.to_rfc3986()},e.prototype.popup=function(e,t){var o,n,i,s;return null==t&&(t={}),n={width:500,height:350},n.top=screen.height/2-n.height/2,n.left=screen.width/2-n.width/2,(i=function(){var e;e=[];for(o in t)s=t[o],e.push(o+"="+this.encode(s));return e}.call(this).join("&"))&&(i="?"+i),window.open(e+i,"targetWindow","toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes,left="+n.left+",top="+n.top+",width="+n.width+",height="+n.height)},e}();var t=function(e,t){function n(){this.constructor=e}for(var i in t)o.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;return function(e){function o(e,t){return this.element=e,this.el={head:document.getElementsByTagName("head")[0],body:document.getElementsByTagName("body")[0]},this.config={enabled_networks:0,protocol:-1===["http","https"].indexOf(window.location.href.split(":")[0])?"https://":"//",url:window.location.href,caption:null,title:this.default_title(),image:this.default_image(),description:this.default_description(),ui:{flyout:"top center",button_text:"Share",button_font:!0,icon_font:!0},networks:{google_plus:{enabled:!0,url:null},twitter:{enabled:!0,url:null,description:null},facebook:{enabled:!0,load_sdk:!0,url:null,app_id:null,title:null,caption:null,description:null,image:null},pinterest:{enabled:!0,url:null,image:null,description:null},email:{enabled:!0,title:null,description:null}}},this.setup(this.element,t),this}return t(o,e),o.prototype.setup=function(e,t){var o,n,i,s;for(i=[e],this.extend(this.config,t,!0),this.set_global_configuration(),this.normalize_network_configuration(),this.config.networks.facebook.enabled&&this.config.networks.facebook.load_sdk&&this.inject_facebook_sdk(),n=o=0,s=i.length;s>o;n=++o)i[n],this.setup_instance(e,n)},o.prototype.setup_instance=function(e,t){var o,n,i,s,a,r,l,p;for(s=e,this.add_class(s,"sharer-"+t),this.inject_html(s),document.getElementById("flipbook-share-facebook").style.display=this.config.networks.facebook.display,document.getElementById("flipbook-share-twitter").style.display=this.config.networks.twitter.display,document.getElementById("flipbook-share-pinterest").style.display=this.config.networks.pinterest.display,document.getElementById("flipbook-share-email").style.display=this.config.networks.email.display,document.getElementById("flipbook-share-google_plus").style.display=this.config.networks.google_plus.display,s.getElementsByTagName("label")[0],n=s.getElementsByClassName("social")[0],l=s.getElementsByTagName("li"),this.add_class(n,"networks-"+this.config.enabled_networks),s.addEventListener("click",function(e){return function(){return e.event_toggle(n)}}(this)),o=this,p=[],t=i=0,a=l.length;a>i;t=++i)r=l[t],p.push(r.addEventListener("click",function(){return o.event_network(s,this),o.event_close(n)}));return p},o.prototype.event_toggle=function(e){return this.has_class(e,"active")?this.event_close(e):this.event_open(e)},o.prototype.event_open=function(e){return this.has_class(e,"load")&&this.remove_class(e,"load"),this.add_class(e,"active")},o.prototype.event_close=function(e){return this.remove_class(e,"active")},o.prototype.event_network=function(e,t){var o;return o=t.getAttribute("data-network"),this.hook("before",o,e),this["network_"+o](),this.hook("after",o,e)},o.prototype.open=function(){return this.public("open")},o.prototype.close=function(){return this.public("close")},o.prototype.toggle=function(){return this.public("toggle")},o.prototype.public=function(e){var t,o,n,i,s,a,r;for(r=[],n=o=0,s=(a=document.querySelectorAll(this.element)).length;s>o;n=++o)i=a[n],t=i.getElementsByClassName("social")[0],r.push(this["event_"+e](t));return r},o.prototype.network_facebook=function(){return this.config.networks.facebook.load_sdk?window.FB?FB.ui({method:"feed",name:this.config.networks.facebook.title,link:this.config.networks.facebook.url,picture:this.config.networks.facebook.image,caption:this.config.networks.facebook.caption,description:this.config.networks.facebook.description}):console.error("The Facebook JS SDK hasn't loaded yet."):this.popup("https://www.facebook.com/sharer/sharer.php",{u:this.config.networks.facebook.url})},o.prototype.network_twitter=function(){return this.popup("https://twitter.com/intent/tweet",{text:this.config.networks.twitter.description,url:this.config.networks.twitter.url})},o.prototype.network_google_plus=function(){return this.popup("https://plus.google.com/share",{url:this.config.networks.google_plus.url})},o.prototype.network_pinterest=function(){return this.popup("https://www.pinterest.com/pin/create/button",{url:this.config.networks.pinterest.url,media:this.config.networks.pinterest.image,description:this.config.networks.pinterest.description})},o.prototype.network_email=function(){return this.popup("mailto:",{subject:this.config.networks.email.title,body:this.config.networks.email.description+"%0D%0A"+this.config.url})},o.prototype.inject_stylesheet=function(e){var t;return this.el.head.querySelector('link[href="'+e+'"]')?void 0:((t=document.createElement("link")).setAttribute("rel","stylesheet"),t.setAttribute("href",e),this.el.head.appendChild(t))},o.prototype.inject_html=function(e){return e.innerHTML="<div class='social load "+this.config.ui.flyout+"'><ul><li id='flipbook-share-pinterest' class='fa fa-pinterest skin-color skin-color-bg' data-network='pinterest'></li><li id='flipbook-share-twitter' class='fa fa-twitter skin-color skin-color-bg' data-network='twitter'></li><li id='flipbook-share-facebook' class='fa fa-facebook skin-color skin-color-bg' data-network='facebook'></li><li id='flipbook-share-google_plus' class='fa fa-google-plus skin-color skin-color-bg' data-network='google_plus'></li><li id='flipbook-share-email' class='fa fa-send-o skin-color skin-color-bg' data-network='email'></li></ul></div>"},o.prototype.inject_facebook_sdk=function(){var e,t;return window.FB||!this.config.networks.facebook.app_id||this.el.body.querySelector("#fb-root")?void 0:(t=document.createElement("script"),t.text="window.fbAsyncInit=function(){FB.init({appId:'"+this.config.networks.facebook.app_id+"',status:true,xfbml:true})};(function(e,t,n){var r,i=e.getElementsByTagName(t)[0];if(e.getElementById(n)){return}r=e.createElement(t);r.id=n;r.src='"+this.config.protocol+"connect.facebook.net/en_US/all.js';i.parentNode.insertBefore(r,i)})(document,'script','facebook-jssdk')",e=document.createElement("div"),e.id="fb-root",this.el.body.appendChild(e),this.el.body.appendChild(t))},o.prototype.hook=function(e,t,o){var n,i;"function"==typeof(n=this.config.networks[t][e])&&void 0!==(i=n.call(this.config.networks[t],o))&&(i=this.normalize_filter_config_updates(i),this.extend(this.config.networks[t],i,!0),this.normalize_network_configuration())},o.prototype.default_title=function(){var e;return(e=document.querySelector('meta[property="og:title"]')||document.querySelector('meta[name="twitter:title"]'))?e.getAttribute("content"):(e=document.querySelector("title"))?e.innerText:void 0},o.prototype.default_image=function(){var e;return(e=document.querySelector('meta[property="og:image"]')||document.querySelector('meta[name="twitter:image"]'))?e.getAttribute("content"):void 0},o.prototype.default_description=function(){var e;return(e=document.querySelector('meta[property="og:description"]')||document.querySelector('meta[name="twitter:description"]')||document.querySelector('meta[name="description"]'))?e.getAttribute("content"):""},o.prototype.set_global_configuration=function(){var e,t,o,n,i,s;i=this.config.networks,s=[];for(t in i){n=i[t];for(o in n)null==this.config.networks[t][o]&&(this.config.networks[t][o]=this.config[o]);this.config.networks[t].enabled?(e="block",this.config.enabled_networks+=1):e="none",s.push(this.config.networks[t].display=e)}return s},o.prototype.normalize_network_configuration=function(){return this.config.networks.facebook.app_id||(this.config.networks.facebook.load_sdk=!1),this.is_encoded(this.config.networks.twitter.description)||(this.config.networks.twitter.description=encodeURIComponent(this.config.networks.twitter.description)),"number"==typeof this.config.networks.facebook.app_id?this.config.networks.facebook.app_id=this.config.networks.facebook.app_id.toString():void 0},o.prototype.normalize_filter_config_updates=function(e){return this.config.networks.facebook.app_id!==e.app_id&&(console.warn("You are unable to change the Facebook app_id after the button has been initialized. Please update your Facebook filters accordingly."),delete e.app_id),this.config.networks.facebook.load_sdk!==e.load_sdk&&(console.warn("You are unable to change the Facebook load_sdk option after the button has been initialized. Please update your Facebook filters accordingly."),delete e.app_id),e},o}(e)});